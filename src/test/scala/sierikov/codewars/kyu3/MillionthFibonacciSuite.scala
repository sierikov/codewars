package sierikov.codewars.kyu3

import org.scalatest.funsuite.AnyFunSuite

class MillionthFibonacciSuite extends AnyFunSuite {

  test("Negative values") {
    test(-6, -8)
    test(-69, BigInt("117669030460994"))
  }

  test("Large values") {
    test(
      99534,
      BigInt(
        "106242832127168736189549863447630338769290470101626696350805115148696807860600924492585884717131503897872138032818626667195019567105902660189381711475634555013738935449573545094259538259614201110949101711562803708421174163813537316438027142180832298574561987045470415472484696784032647816190131255262304601616852692921741784469317909588865971292679481599904185581469206138522953764215741155972676987511153723783371936532592704227545473183199798542567882125105190635575017136094361285726150314626183345552210600619186203681913966122969785094029076303466382594158407627913980743025906261369821760792175089502714249301170801840524285945146765458040813811847584258600635045654793072416500940011874348533321709222464184561111084057825733238613500420757840372119598599878275697267249006914247356511911360098949402651935046303339820932346282930947991945817237574057130356758280825185386190669284798048509394755741758098558981797467339719316990810204548398837234717851216729585871064965889529125841760806486308297494013175715865368007408142797805744962963596698982291127211111245304992761965584099546569752061386445735950875107872755691492744274895892242973703686747167941576106091610765087169995952653386974397189664067896360491846063178047761480870103888736257484671861741104881393687371708182186621348978014506294648632144136178430676111960271305999393649430241770783737621074916757830429649706046627764261985695968553675016535843175130700137643291491568256917891980092054614967756995916555975568932288823549092410960366419318256184799422748940271983242380358336841313015034965712203910436836899510740676281724438012761009431907913943738251303408871071055677331020024888759431628146496926925852820752228760551296476314904410101768514714805110586188820787425902970374862100943724533421248039883934500575898975788791566193987487418266558711875793487665473055639093163192647009074638764676578860875058336355450977140283228843889908084221496170818144138445271767126818363696513832739582812229439265262815304030218664449330833175864479600417722317734975961646794676173198305259443204552259817946356984260750574701493775425325915934371063115936618663458133911561661250372181890774221486887190262790158966840627257888555387752010741429781236734247661533015975769690855813412445445867129309194745418324578398794630561355616969246048871748284365048625878545641816648793737273358261362330192968510561485602145991771450013660655703039726359879927913643256721652525450719369508733652034149716454733947138134094314499514759012236595072046983459134360708243157686542808351861139197764717340406336593409252595733919161867928948559419942858979744533668272759652739424441615268749971932916974902086272261919063227687260865900657588032853127213916848805870882012139555545894832010528549784585797070778929560195703123714173233059773291675228899311814789327113617410865268984096479290997420438014695865329769191797541717939524091127114101995030447819168558710639647870451281999070368769803218297732821138352339612837800064278550815084980690879925264105233032681603527281096579165287918832528209891646554751081338461573925299431581364624004405999090430910070099803474450539024884919932682568464034242614766975345184557853037574484750354657800953273444578645334192522908481379514190876579692898105022237140437606977215323284787622456465617684011820534037070447187352906076572583894926336107988315888065780477033697031706885981018141983060007206836414196548089720809921781234936405194946288210439269920702903344535368134251374218911955174459576292834810891987300468191866865448806228825170258509715846720373602994924380633537120599999770642630290955137527889079197969789394974546678554439173162851252012704981984473119915390082361233351808007713320316296370947059836157887442784480266550022202048956059796777315879970472090947609023590930990044083249481251844200115622204627703137209960017077849946470598687272888568932696130794807401285688690842039808139769158226534247542590149131924977671872719607034631961307535601509951462967471470367551120991352826108265491477485036692737578441992669687258525712540992028785092664620240950411704280003331730764830730207368984091913098086623435791986321116061846013137623499311187766679590949796425977155812008528855015549147001324272186692950289118114019578801971499074456476010116243297922914686245918993502024840493668523949954281686275234262950004341248609498544039724482972126951036876082349835466656093414366698837180929023575764715840889844270691292417185028935432643028009461868071022576931074075784178839258442547774059030808140250862625857315778447652905532494949753825678171148455084718053450499494712493684481227727830913537034178758654661585122608001439470110723208580861583178451107241532238864876511421852567558793744820862154377900756057880034406520703907171619738260525215170501490914058490465653489537899382824485984969517069629593565148621019047712010647159088657464262520325132891419270337077852011010548866414772890628174452215730185860981239611174510201325037128338108249377792354971366318487691967679142115306421922462638217881001446847887553631629746026103404646320228705480178203420940963207282006700482054548478939781558106871056348725533714916283026065737737294067114573015465869299298104006896213366382944849180008983231856918086580953585458245497375884133309169050738925512279684628800623550918686750108727222908389838065687780262524433707688071860124493122785837368643250435073070874074079616083863450438319433451341552104104712412721622991613384288152563607723574053654597639799273163079018129315807377026957751466126369064839905886859719351302856555659521108491363073119734675251503250231201870183614151183760744698612077498734947344220960819924643358977076938593625783286701567255970115085280071110475408377533068827896183109599044060935390464330102847799759129782655695380817579919472972027813604569714209118412501633712891170048730056863052578405444067167983888928678045719689667631439399014478236496208207661654988143096324451021008018743771318860565068486964161131252047440583962518864380602486971355745256423750346138925731539900492369793195370298248137828657202775268393018240217733068861839135596620621849006725171480490430314781437122073478694177338552365957999157173938770977251954858027816646117810924503246876707204807975375722540100890894819857833692594262217636821485576688007625328390289750411338364245144246497787609465910915672195567829247189673776640316311593953015719044258857230757918009852234884002398232130123988535232902214933815699552662388027787202483191049525232191684418851516539164890385601234597224348760503506821370763829120424140819181569378158874244116136907008159383710186227520455070070926522851416702653395687727698952342629079300678452889478555660042109756567208976361977899181694439646175505359024777521131614985605176008634145883178879356734966171614759053652442971439966595564054056617745416478186535880163920451509912204824067185141316826567479784038377069895591169901683473641323408357269072763949901626571276885133814546494023171064570729133360626452518845867683608118910014202471401253413242574847311316699343661186797806951257340183058546949795752750758381679956196138943267951448259248210268287445106612326861001198946213215170352807732029543226337018103611531511587293512530127573131778996775239000518909115530041181711150519575455280217445101920681908070080456132165307756550374349004942410634079118170102926341092802716442462997590117851646395366638824661570445732621578144173984399307682118012856992917267453012266352887052642736595252408642700949230927559353426290117865107555564151954046865217345437496134087301838295595634844353799433938058465305078870054307790734948782040908161475354382199804119389243839897708154010979254544431904666916662438695680340773041066987365413088532583158115835361669036436283177736018502905707819864073236007212770033019347529791320261577132356688474907529194727048253454493156758352938205196498924862002119509391343542554506643780086365872826649893561431777527887810345073331219886598025231603402373525975690345630055197634525734279456008905595079302659738666642593095489540633963932433689532628787580443371651412362434033129139354701174809630241484462002579087352019862005807719401007120071020283249245333387057552750475879099900476473213197853566431908628355757346995218772436373644544538162904206214396149185063093863799664771349266301755625610852296820668439569373027031091796309736345729132220710819878183398373553764483032839357879465166389356084466301722779046843174410160539249901204673662705991796467177499310504970673861848149064513648926105528420441251049981350145904861478329869427075473953823199091841648512827957148597271896122666175218409459209157851120248957026712786418108923077074675956199002853461513731744180231200192169316615825335552131492563335084635064363409739678579254183443850538914304470056635386056363761947282682349728961790033377486020632752403583123055487665557251353490057230687594224612134030765616564740194744533546634773347552354711336329993875022079163252285400686672433609075254464673668875900002211850048975521294569657513080247102721940189983815347364962340680332260420581005450462458969388060972851051248974974325553926675374108128933146339420159195528636668129533787931930275029282059032198312895295351217843249762287664713139893066791495281250976641209146905955707566902688298639504828818148635725248806087828200128913153090915378303579087050911993395176494480166993879534363180423620127456328251050352176113879605908282022328984255386024319386402756881996495257527782345900676155752700147100330527745697895095390307795637735050021938831183272897410184003414020222121229535198645176898381978790866165935210539850416079951399935930495563789649068909815278349580347155750976509725344856253013817904153372661567938796156568160670267293772565049567902094459483198852973136355523929234160966470792185732379576131340058908563591469543241953940133494171160739763719845473931766415439710322821043139133688627899607322103598481118068817992561130726933747356045181426640849479813450999012804922541097605306958193164829934160539895157686751403606447436921810046068207928920762897123925178963061244325668983176469337458685915607408749870785023341129735256749036935621879173318291451591079349146706001632672928623252322365978974392295817962091162023081872614354908235077610291264832513051772235047461569065691174722767550080567394577396942355770958442895126462359101147388805840414141574886207758753203403204834077216138133241216929491296016681921838046387276031134973764750376227792011249068304784719060361072546118488949883813195772665578245750656858553537524552628035582165892932501656324238709342059359051847954592787097548675441421444113512346594460357416516204498846218039222037549314701484901965222566116560801273448287332920713553212837275764404578556201029982037418008200773270868258905590564936998030021431683657922969941146697212750431820682321244458995765394995660607932610390510804403368773947708032569218383370759024774635199779604077856592171717056641613778274449604904519129779896113709697047734826497963428952474253957605137732665093122868615499209180040212679930930087975208913519347744435288997065162004757394566252037954615058684834156994866792082788669845936870645713218641422279482041899833323263397814616346887366720919472494560891887965138796721675232674066725359721995884316831488770684928651062500530905879334495798814405730278618520321342401471847409428589128429732594043747545873810307491118393783954872890353274731524101560030218299616918620234983741471944585020073791393543470826344059156195339088204542347210095029128335201155918764555969997731505477882342111491447396006739948036893320062474926353380595668167728855717392189135408144494909801757321506968123811164785986375216356892677504727443584599173530021268590476401149839474707057699227804865081026162230978203284962405575012257779011711571910311618798594341234013455687731474302560857623949884762879881005011533390723114088014923532441613163745894630718683908309047180968184831000766638034007131368474260697547682166554191949010853024668072505602404746645764278585992324295664452521215762376002755524560064997192246170036392689420125317081450460963792053388574270349855208462491050522365514258427061247628245064621970072452753772415420712388053187989291870722812225553821817017188767579120680833904877886293513308547675858301558077433656092239401148888078655774957973096372213109854158299556157049047311059788080432759112840398131841364488347485374141516348679929885234726429140175844305755796918908251760875051162071468958493582484414702298012663868480941249331300730532859585971286911406799939241872863511380423586527792475090120595145207932894841349148751202227548144015031500399363021028022438336739746547631236425908683876148155497106510234628671724867602583586872888874670816208130260582961856164050209445932478420560917393041666264401020571146453191579498194104505942655275791189884571928816752390609815460897114908418736638530552885934130471548975654444720685442118667759872968691303143393976133822139343031223086852826920886403841814618779909820784274169562393909589565691848215817803218889965197177744972594739637778533432511830338419823714512656358539155470537783309376303670417940729619082684921955249609947994534955997640173099092480519011605629343997083094097089615340488321412762567275907473750022620825014177402736461455848672696968319753574277982815738472528218688766635272777213629620663580834385440051954161000941546643169479754504437178317728304927313055071636777800871285399675126145343955023935441336703304335151029163415366356346547831097991509398915355578292660365725593342284378250052264807681521252718932839063695760235541774828452548527077173161518361699169858883793702516935813433737668556549418366340287537583262445415990642843799286285286946446031174410449587795027722634926951899848556556194373811189893088305402387531977225451647696413336380843821247285245611006946281274501056098891855692110907081188561078192830744424330795936356315563676887056786612208187341348745878908392660471864135204733765306376143966635846480216230920508766354573081747141725595878656349886160397023775701930065468571265836246740203798973265311479169371859838169911219291972646664537363709134770212538096507625719562426933844996472977823963303936509567010745604166449833571050028957526486504522695674879731712371335897997326333061435838660142843117849367617124492358144215267760359055309338662357552858193621596828772138930324506453310930020344009421612812400230960542307737795009785697171405309916805838582771830564329871215933061433709644873373400734910784784887773188606130699045849108013173913566641700081908441281077348078762279540248931260675325732260078100087578284864952672384081233716540409173208723811340400310731112806349272077594890181413714672208411968745621577277001907023000627411935375014179083463629098567756394627390994744573441111845547498856323649846124371363780447824617714304317953800110242334305747706714177872986147636950754407574373727934649370380140796493012824414399927282091547067328812401062750929577230007266699728846384650868442755840532623237250877251844932267731012529102214903836661428910544433855633422366225448072543514046053083296293161098600453052046253459874459067754564498927929083729596839648832764617544765684289247057495868258963265326157310368891557504987319608936002035743614932288939985356898655146528069661567541275095760571986903229216099318298921991309881437946538400190007613806777349008556627491178327193239174944730262170962950931017010958184722559998329032565245389569423529716605783329671117879370239537303007420819029993299528365428125080285233306832213294002308525338105205524245780422351736050517286568221046768534398448412282485136959462608312150706412418594808711755378148707341018079162933201569489354771205570741261238504949072614802583043800058361209454462234104972912737593638338475076985118714998432121647323620498048586666313412315360501628636293472432565023271322965803384340762259072860230794037269280849287118340400640346389201765945091400514009216343875906957759079772952735457579693397242746730352404599317097028370028961772972731064272368277789239221070484038751803834048932623297251297635263804502156350733994794970850243326392021048556853419757848813574416879650714336057629049293177600084956196374991498712003423113654082881601373715416377628846200834359454219016789724930309640159093741145877397012433146066112455364400465454855803913964350541541348154960576739229396405136278849420748127228699878874711746080993152020513772314589843851481261538432852364149939586402227952447826020811845343578655025383902611263839749042348238889122529116420634504970908683612337844923529266949736226981311921391176109878817478499198541874855381414638247669369218648449042038564366712939611730856970594684039453046780216432479103055057872330556536828688403743176452111462218968388920364765061399891448384688237004281388402497117231789686480692815843330796587559857972232446202345059413947569161110103827032758306716037578968987378125262480510729149258451213956207232353708378363944936321672640836820321196194576474968174001658704081079449286229025432693284835374688848851643293316167229955506334149880039409135302711707511661498155415406482655174844744899093626625806709574070839336510969346427375801415820203372247546864008237630389146505028750673161148496727043743485893727176189358034185570255428522376549548049536019097865770494716976674504368404356266616209728152059315367100474455582916848662671439868631299930039190407313269585514726786695721915287451458658997692111734348116068945612449807193783895838933483663427897617097862348126992512160671750974898181408138983427978133358182941342904306583051929786229225661413241545273878549306388920020957977726865269518437684873158474809668729706133010947192838411434119265936393557954443385659727270719378775908430040683491899413342556158108706190503955503080862260754159471478682695973371721234158925630534011592853278100409524168804431879044041423971585599188752032519050368085648065712420096484410930858722949007760529606067458791828156191932258429778777183527323808595193048284381223899381254216930011674490915461148351861688990331573850385205687395367781655208779548278214741727009521074121839723858231546046156207442060281144337262309072522315232302777551256389476048325401029862230720807198738685984040648984261164808577303060112799779854749362409193787660903673801801180040919787762906464877587106445428232653502414411014086760819949441777166909418419513687965377819042408519340998541479390589462158446822593567585172614696198638651225133986622277221877711041258438903669464853333715792787096547634112273663334889586908011689668384045206906049757952576647937733207946252486156528796026761112409317775305242408714810309889444345456737727386490832330671633082240517710734125257555022650196408819821443594967390175556429581894243279058388460209967168878921112186583812071119370034534986938603722396709357619134168742427847065117728484457688570319334416554524851261700718211529311267035974601777107149670426248378803362329786052964824650204069465695768799435287430575814823548383271151922002513580160134083029930569163563592132049324993876744090030075830560287240205724561026051572115539475687858935622205801217645379429892274832383129553561503665781299997501310429163175891825654245134510041141195815387109865836469903269811823939294487205021711926290179926760107694177922087473134798342780888083447670224615201453834777072598065161001028021392896428071031335331633708781055041356405980846933440129032365358223265914297748107914836186600347339449787612377125167181646992942533394549595252709609373949084113119519729554271955366323713170867767857989008516658578483622034521466642287128060499709400588087833053365738129475226221400166282898708725604019105831069961723604453002373798502342369615442583821915712415630844197503631136282800962618232687712833535600880873992197823109210622732964254259384596829209946199499340036755937738788479098686895774012981941776558826229093822713330035346047084320774900855554845817497649051142809924999160664587562555411980313307590920897264754263646420083468422644058121056453746794447271279555528925192324920920145371562123890601177834618584681581742216402331805099086218265955099924358646476831071315140487550769171015667560976064527298726919056435710433678193898135633729061408282829161749592108846987801208982197350786984431272316839374501291758697896920833604367455686529997329473303267586269050419283805409579691383747706440883741871426623109863030530237965120494237527026561358389177544043580715072601578660339366125690113541699573884846813314937893074434333328437938257942366998236887472621767385422083135698750351417451332320003231313431529636366507190774059130750521222276286680166771615249512"
      )
    )
  }

  private def test(n: Int, expected: BigInt): Unit =
    withClue(s"""for $n -- $expected\n""") {
      assert(MillionthFibonacci.fib(n) === expected)
    }
}
