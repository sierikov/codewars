package sierikov.codewars.kyu4

import org.scalatest.funsuite.AnyFunSuite

class DecodeMorseCode2Suite extends AnyFunSuite {

  import DecodeMorseCode2.*

  def d(msg: String): String = decodeMorse(decodeBits(msg))

  test("the example from the description") {
    assertResult("HEY JUDE")(
      d(
        "00000011001100110011000000110000001111110011001111110011111100000000000000110011111100111111001111110000001100110011111100000011111100110011000000110000"
      )
    )
    assertResult("HEY JUDE")(
      d(
        "1100110011001100000011000000111111001100111111001111110000000000000011001111110011111100111111000000110011001111110000001111110011001100000011"
      )
    )
  }

  test("basic bits decoding") {
    assertResult("E")(d("1"))
    assertResult("I")(d("101"))
    assertResult("EE")(d("10001"))
    assertResult("A")(d("10111"))
    assertResult("M")(d("1110111"))
  }

  test("multiple bits per dot") {
    assertResult("E")(d("111"))
    assertResult("E")(d("1111111"))
    assertResult("I")(d("110011"))
    assertResult("I")(d("111000111"))
    assertResult("I")(d("111110000011111"))
    assertResult("EE")(d("111000000000111"))
    assertResult("M")(d("11111100111111"))
    assertResult("S")(d("111000111000111"))
    assertResult("HEY JUDE")(
      d(
        "111111000000111111000000111111000000111111000000000000000000111111000000000000000000111111111111111111000000111111000000111111111111111111000000111111111111111111000000000000000000000000000000000000000000111111000000111111111111111111000000111111111111111111000000111111111111111111000000000000000000111111000000111111000000111111111111111111000000000000000000111111111111111111000000111111000000111111000000000000000000111111"
      )
    )
  }

  test("extra zeros") {
    assertResult("E")(d("01110"))
    assertResult("E")(d("000000011100000"))
  }

  test("long strings") {
    assertResult("THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG.")(
      d(
        "00011100010101010001000000011101110101110001010111000101000111010111010001110101110000000111010101000101110100011101110111000101110111000111010000000101011101000111011101110001110101011100000001011101110111000101011100011101110001011101110100010101000000011101110111000101010111000100010111010000000111000101010100010000000101110101000101110001110111010100011101011101110000000111010100011101110111000111011101000101110101110101110"
      )
    )

    assertResult("THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG.")(
      d(
        "11111111111111100000000000000011111000001111100000111110000011111000000000000000111110000000000000000000000000000000000011111111111111100000111111111111111000001111100000111111111111111000000000000000111110000011111000001111111111111110000000000000001111100000111110000000000000001111111111111110000011111000001111111111111110000011111000000000000000111111111111111000001111100000111111111111111000000000000000000000000000000000001111111111111110000011111000001111100000111110000000000000001111100000111111111111111000001111100000000000000011111111111111100000111111111111111000001111111111111110000000000000001111100000111111111111111000001111111111111110000000000000001111111111111110000011111000000000000000000000000000000000001111100000111110000011111111111111100000111110000000000000001111111111111110000011111111111111100000111111111111111000000000000000111111111111111000001111100000111110000011111111111111100000000000000000000000000000000000111110000011111111111111100000111111111111111000001111111111111110000000000000001111100000111110000011111111111111100000000000000011111111111111100000111111111111111000000000000000111110000011111111111111100000111111111111111000001111100000000000000011111000001111100000111110000000000000000000000000000000000011111111111111100000111111111111111000001111111111111110000000000000001111100000111110000011111000001111111111111110000000000000001111100000000000000011111000001111111111111110000011111000000000000000000000000000000000001111111111111110000000000000001111100000111110000011111000001111100000000000000011111000000000000000000000000000000000001111100000111111111111111000001111100000111110000000000000001111100000111111111111111000000000000000111111111111111000001111111111111110000011111000001111100000000000000011111111111111100000111110000011111111111111100000111111111111111000000000000000000000000000000000001111111111111110000011111000001111100000000000000011111111111111100000111111111111111000001111111111111110000000000000001111111111111110000011111111111111100000111110000000000000001111100000111111111111111000001111100000111111111111111000001111100000111111111111111"
      )
    )
  }

  test("brutal strings") {
    assertResult("/QT- 1J E Q5 C 9= L(TV 1 0D")(
      d(
        "000011111111111111111111111100000000111111110000000011111111000000001111111111111111111111110000000011111111000000000000000000000000111111111111111111111111000000001111111111111111111111110000000011111111000000001111111111111111111111110000000000000000000000001111111111111111111111110000000000000000000000001111111111111111111111110000000011111111000000001111111100000000111111110000000011111111000000001111111111111111111111110000000000000000000000000000000000000000000000000000000011111111000000001111111111111111111111110000000011111111111111111111111100000000111111111111111111111111000000001111111111111111111111110000000000000000000000001111111100000000111111111111111111111111000000001111111111111111111111110000000011111111111111111111111100000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000000000000011111111111111111111111100000000111111111111111111111111000000001111111100000000111111111111111111111111000000000000000000000000111111110000000011111111000000001111111100000000111111110000000011111111000000000000000000000000000000000000000000000000000000001111111111111111111111110000000011111111000000001111111111111111111111110000000011111111000000000000000000000000000000000000000000000000000000001111111111111111111111110000000011111111111111111111111100000000111111111111111111111111000000001111111111111111111111110000000011111111000000000000000000000000111111111111111111111111000000001111111100000000111111110000000011111111000000001111111111111111111111110000000000000000000000000000000000000000000000000000000011111111000000001111111111111111111111110000000011111111000000001111111100000000000000000000000011111111111111111111111100000000111111110000000011111111111111111111111100000000111111111111111111111111000000001111111100000000000000000000000011111111111111111111111100000000000000000000000011111111000000001111111100000000111111110000000011111111111111111111111100000000000000000000000000000000000000000000000000000000111111110000000011111111111111111111111100000000111111111111111111111111000000001111111111111111111111110000000011111111111111111111111100000000000000000000000000000000000000000000000000000000111111111111111111111111000000001111111111111111111111110000000011111111111111111111111100000000111111111111111111111111000000001111111111111111111111110000000000000000000000001111111111111111111111110000000011111111000000001111111100000000000000000000000000000000000000000000000000000000000"
      )
    )

    assertResult("H H2J+ Y V I T?E : YG Q7 5 S8 4")(
      d(
        "0001111110000001111110000001111110000001111110000000000000000000000000000000000000000001111110000001111110000001111110000001111110000000000000000001111110000001111110000001111111111111111110000001111111111111111110000001111111111111111110000000000000000001111110000001111111111111111110000001111111111111111110000001111111111111111110000000000000000001111110000001111111111111111110000001111110000001111111111111111110000001111110000000000000000000000000000000000000000001111111111111111110000001111110000001111111111111111110000001111111111111111110000000000000000000000000000000000000000001111110000001111110000001111110000001111111111111111110000000000000000000000000000000000000000001111110000001111110000000000000000000000000000000000000000001111111111111111110000000000000000001111110000001111110000001111111111111111110000001111111111111111110000001111110000001111110000000000000000001111110000000000000000000000000000000000000000001111111111111111110000001111111111111111110000001111111111111111110000001111110000001111110000001111110000000000000000000000000000000000000000001111111111111111110000001111110000001111111111111111110000001111111111111111110000000000000000001111111111111111110000001111111111111111110000001111110000000000000000000000000000000000000000001111111111111111110000001111111111111111110000001111110000001111111111111111110000000000000000001111111111111111110000001111111111111111110000001111110000001111110000001111110000000000000000000000000000000000000000001111110000001111110000001111110000001111110000001111110000000000000000000000000000000000000000001111110000001111110000001111110000000000000000001111111111111111110000001111111111111111110000001111111111111111110000001111110000001111110000000000000000000000000000000000000000001111110000001111110000001111110000001111110000001111111111111111110000000000000000000"
      )
    )
  }

}
